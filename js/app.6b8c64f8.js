(function(e){function n(n){for(var r,c,u=n[0],a=n[1],i=n[2],p=0,f=[];p<u.length;p++)c=u[p],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);l&&l(n);while(f.length)f.shift()();return s.push.apply(s,i||[]),t()}function t(){for(var e,n=0;n<s.length;n++){for(var t=s[n],r=!0,u=1;u<t.length;u++){var a=t[u];0!==o[a]&&(r=!1)}r&&(s.splice(n--,1),e=c(c.s=t[0]))}return e}var r={},o={app:0},s=[];function c(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=e,c.c=r,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)c.d(t,r,function(n){return e[n]}.bind(null,r));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=n,u=u.slice();for(var i=0;i<u.length;i++)n(u[i]);var l=a;s.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("7a23"),o={key:0,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},s=Object(r["e"])("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c=Object(r["e"])("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),u=[s,c],a=Object(r["e"])("h1",null,"Quiz",-1),i={class:"questions"},l=["innerHTML"],p={class:"answers"},f={class:"answers__label"},b=["name","onUpdate:modelValue","value","onChange"],d=["innerHTML"],h=Object(r["e"])("button",{type:"submit"},"Show result",-1),O=Object(r["f"])(" Ваш результат:"),j=Object(r["e"])("br",null,null,-1);function m(e,n,t,s,c,m){var v=Object(r["k"])("modal-popup");return Object(r["h"])(),Object(r["d"])("main",null,[e.hasQuestions?(Object(r["h"])(),Object(r["d"])(r["a"],{key:1},[a,Object(r["e"])("form",{action:"",onSubmit:n[0]||(n[0]=Object(r["p"])((function(){return m.onFormSubmit&&m.onFormSubmit.apply(m,arguments)}),["prevent"]))},[Object(r["e"])("ul",i,[(Object(r["h"])(!0),Object(r["d"])(r["a"],null,Object(r["i"])(e.questions,(function(e,n){return Object(r["h"])(),Object(r["d"])("li",{class:"questions__item",key:e.correctAnswer},[Object(r["e"])("p",{innerHTML:e.question},null,8,l),Object(r["e"])("ul",p,[(Object(r["h"])(!0),Object(r["d"])(r["a"],null,Object(r["i"])(e.answers,(function(t){return Object(r["h"])(),Object(r["d"])("li",{class:"answers__item",key:t},[Object(r["e"])("label",f,[Object(r["o"])(Object(r["e"])("input",{class:"answers__radio visually-hidden",type:"radio",name:"answer-".concat(n+1),"onUpdate:modelValue":function(n){return e.userAnswer=n},value:t,onChange:function(e){return m.onAnswerChange(t)}},null,40,b),[[r["m"],e.userAnswer]]),Object(r["e"])("span",{innerHTML:t,class:"answers__label-text"},null,8,d)])])})),128))])])})),128))]),h],32),Object(r["g"])(v,{"is-open":e.isPopupOpen,onClose:m.onClosePopup},{default:Object(r["n"])((function(){return[O,j,Object(r["f"])(" "+Object(r["l"])(m.correctAnswers)+" из "+Object(r["l"])(m.numberQuestions),1)]})),_:1},8,["is-open","onClose"])],64)):(Object(r["h"])(),Object(r["d"])("svg",o,u))])}var v=t("1da1"),w=(t("96cf"),t("4de4"),t("2909")),y=(t("d3b7"),t("d81d"),t("99af"),function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}}),g="https://opentdb.com/api.php?amount=10&type=multiple",k="http://localhost:3000/",_=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n){var t,r,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{},e.prev=1,e.next=4,fetch(n,t);case 4:return r=e.sent,e.next=7,r.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e["catch"](1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),x=function(e){var n=e.map((function(e){var n=e.question,t=e.incorrect_answers,r=e.correct_answer,o=[].concat(Object(w["a"])(t),[r]);return y(o),{question:n,answers:o,correctAnswer:r}}));return n},P=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var n,t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(g);case 3:return n=e.sent,t=n.results,e.next=7,x(t);case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),C={class:"popup__content"},A={class:"footer"};function M(e,n,t,o,s,c){return t.isOpen?(Object(r["h"])(),Object(r["d"])("div",{key:0,class:"backdrop",onClick:n[2]||(n[2]=function(){return c.close&&c.close.apply(c,arguments)})},[Object(r["e"])("div",{class:"popup",onClick:n[1]||(n[1]=Object(r["p"])((function(){}),["stop"]))},[Object(r["e"])("div",C,[Object(r["j"])(e.$slots,"default")]),Object(r["e"])("div",A,[Object(r["e"])("button",{onClick:n[0]||(n[0]=function(){return c.close&&c.close.apply(c,arguments)})},"Ок")])])])):Object(r["c"])("",!0)}var S={name:"ModalPopup",props:{isOpen:{type:Boolean,required:!0}},emits:{close:null},mounted:function(){document.addEventListener("keydown",this.handleKeydown)},beforeUnmount:function(){document.removeEventListener("keydown",this.handleKeydown)},methods:{handleKeydown:function(e){this.isOpen&&"Escape"===e.key&&this.close()},close:function(){this.$emit("close")}}};t("8cdd");S.render=M;var q=S,Q={name:"App",components:{ModalPopup:q},data:function(){return{hasQuestions:!1,isPopupOpen:!1,questions:[]}},computed:{numberQuestions:function(){return this.questions.length},correctAnswers:function(){return this.questions.filter((function(e){var n=e.correctAnswer,t=e.userAnswer;return n===t})).length}},created:function(){this.setQuestions()},methods:{setQuestions:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.hasQuestions=!1,n.next=3,P();case 3:t=n.sent,e.questions=t,e.hasQuestions=!0;case 6:case"end":return n.stop()}}),n)})))()},onAnswerChange:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,_(k,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({userAnswer:e})});case 2:case"end":return n.stop()}}),n)})))()},onFormSubmit:function(){this.isPopupOpen=!0},onClosePopup:function(){this.isPopupOpen=!1,this.setQuestions()}}};Q.render=m;var R=Q;t("6672");Object(r["b"])(R).mount("#app")},6672:function(e,n,t){},8852:function(e,n,t){},"8cdd":function(e,n,t){"use strict";t("8852")}});
//# sourceMappingURL=app.6b8c64f8.js.map